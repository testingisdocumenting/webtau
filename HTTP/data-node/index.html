<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" /> 
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"> 
<title>WebTau: Data Node</title>
<link rel="stylesheet" type="text/css" href="/webtau/static/css/katex.min.css">
<link rel="stylesheet" type="text/css" href="/webtau/static/main.css">
<link rel="stylesheet" type="text/css" href="/webtau/logo.css">
<link rel="stylesheet" type="text/css" href="/webtau/static/css/global-overrides.css">
</head>
<link rel="shortcut icon" href="/webtau/favicon.png"type="image/ico"/>
<body class="theme-znai-dark">
<script>(function() {
    var themeNameKey = 'znaiTheme';
    var darkThemeName = 'znai-dark';
    var lightThemeName = 'default';

    var znaiTheme = {
        changeHandlers: [],
        addChangeHandler(handler) {
            this.changeHandlers.push(handler);
        },
        removeChangeHandler(handler) {
            var idx = this.changeHandlers.indexOf(handler);
            this.changeHandlers.splice(idx, 1);
        },
        set(name) {
            this.name = name;
            document.body.className = 'theme-' + name;

            var idx = 0;
            var len = this.changeHandlers.length;
            for (; idx < len; idx++) {
                this.changeHandlers[idx](name);
            }
        },
        setExplicitly(name) {
            storeThemeName(name);
            this.set(name);
        },
        setExplicitlyIfNotSetAlready(name) {
            const themeName = getStoredThemeName();
            if (themeName) {
                return
            }

            this.setExplicitly(name)
        },
        toggle() {
            this.setExplicitly(this.name === lightThemeName ? darkThemeName : lightThemeName)
        }
    };

    var mediaThemeName = setLightMatchMediaListenerAndGetThemeName()
    var themeName = getStoredThemeName() || mediaThemeName;
    znaiTheme.set(themeName);

    window.znaiTheme = znaiTheme;

    function getStoredThemeName() {
        return localStorage.getItem(themeNameKey);
    }

    function storeThemeName(name) {
        return localStorage.setItem(themeNameKey, name);
    }

    function setLightMatchMediaListenerAndGetThemeName() {
        if (!window.matchMedia) {
            return darkThemeName;
        }

        var lightQuery = window.matchMedia('(prefers-color-scheme: light)');
        lightQuery.addListener(function (e) {
            const newThemeName = e.matches ? lightThemeName : darkThemeName;
            znaiTheme.setExplicitly(newThemeName);
        });

        return lightQuery.matches ? lightThemeName : darkThemeName;
    }
})()</script>
<div id="znai"><div id="znai-initial-page-loading" style="margin: -20px 0 0 -20px; padding: 0 40px 40px 0; width: 100vw; height: 100vh; display: flex; justify-content: center; align-items: center">
    <div></div>
</div><section style="max-width: 640px; margin-left: auto; margin-right: auto;">
<article>
<header><h1>Special Values</h1></header>
<p>Values that you access inside the http call validation block are special values of DataNode type. DataNode has methods to assert and traverse the response.All assertions made on DataNode are tracked and are available as part of the generated report. Groovy http.get(&quot;/end-point&quot;) { price.should == 100 assert price instanceof DataNode } Check HTTP/import-and-dependencies Import And Dependencies for prerequisites. Java http.get(&quot;/end-point&quot;, ((header, body) -&gt; { DataNode price = body.get(&quot;price&quot;); price.should(equal(100)); })); Check HTTP/import-and-dependencies Import And Dependencies for prerequisites.</p>
</article>

<article>
<header><h1>Extracting Values</h1></header>
<p>As you have seen in HTTP/CRUD-example CRUD example you can return values back from a validation block. Groovy def id = http.get(&quot;/end-point&quot;) { return id } id.should == 10 id.getClass().should == Integer List&lt;Map&lt;String, ?&gt;&gt; complexList = http.get(&quot;/end-point&quot;) { return complexList } complexList[0].k2.should == 30 Java Integer id = http.get(&quot;/end-point&quot;, ((header, body) -&gt; { return body.get(&quot;id&quot;); })); actual(id).should(equal(10)); List&lt;Map&lt;String, ?&gt;&gt; complexList = http.get(&quot;/end-point&quot;, ((header, body) -&gt; { return body.get(&quot;complexList&quot;); })); Number k2 = (Number) complexList.get(0).get(&quot;k2&quot;); actual(k2).should(equal(30)); WebTau automatically converts leaf value to its correspondent primitive. It converts List and object to java.util.List and java.util.Map .Note: WebTau will not be able to associate assertions on returned values with a specific call. Avoid using returned values for validation. Make assertions on DataNode instance to generate useful report information such as data coverage.</p>
</article>

<article>
<header><h1>Properties On Lists</h1></header>
<p>If you have a list of objects like complexList below, you can access all its children property value with complexList.k2 . Groovy http.get(&quot;/end-point&quot;) { complexList.k2.should == [30, 40] } Java http.get(&quot;/end-point&quot;, ((header, body) -&gt; { body.get(&quot;complexList&quot;).get(&quot;k2&quot;).should(equal(list(30, 40))); }));</p>
</article>

<article>
<header><h1>Path based properties access</h1></header>
<p>Primarily for Java users, WebTau supports the ability to query properties of a DataNode via a path instead of chaining get(String name) calls. For example, to obtain a simple property: http.get(&quot;/end-point&quot;, (header, body) -&gt; { body.get(&quot;object.k1&quot;).should(equal(&quot;v1&quot;)); }); It is also possible to query arrays, including the ability to query for the Nth element from the end: http.get(&quot;/end-point&quot;, (header, body) -&gt; { body.get(&quot;complexList[0].k1&quot;).should(equal(&quot;v1&quot;)); body.get(&quot;complexList[-1].k1&quot;).should(equal(&quot;v11&quot;)); }); Similarly to the Groovy example in HTTP/data-node#properties-on-lists Properties On Lists, it is possible to access all children property values: http.get(&quot;/end-point&quot;, (header, body) -&gt; { body.get(&quot;complexList.k1&quot;).should(equal(list(&quot;v1&quot;, &quot;v11&quot;))); });</p>
</article>

<article>
<header><h1>If-Else Logic</h1></header>
<p>Even though values that you access inside validation block are special values of DataNode type, you can still perform simple if-else like logic checks on them.In case of Groovy, accessing a value during if-else will mark the value as accessed for reporting.In case of Java, use .get() to access underlying value. No marking of the value will during comparison. Groovy def zipCode = http.get(&quot;/address&quot;) { return addressType == &quot;complex&quot; ? address.zipCode : &quot;NA&quot; } Warning: Comparison of complex values is not properly implemented due to current Groovy API implementation details Java String zipCode = http.get(&quot;/address&quot;, ((header, body) -&gt; { return body.get(&quot;addressType&quot;).get().equals(&quot;complex&quot;) ? body.get(&quot;address.zipCode&quot;) : &quot;NA&quot;; }));</p>
</article>

<article>
<header><h1>Iteration</h1></header>
<p>DataNode have convenient methods to iterate over values and make assertions. Groovy http.get(&quot;/end-point&quot;) { list.each { it.shouldBe &gt; 0 } } http.get(&quot;/end-point&quot;) { complexList.each { k2.shouldBe &gt; 0 } } Java http.get(&quot;/end-point&quot;, (header, body) -&gt; { body.get(&quot;list&quot;).forEach(node -&gt; node.shouldBe(greaterThan(0))); }); http.get(&quot;/end-point&quot;, (header, body) -&gt; { body.get(&quot;complexList&quot;).forEach(node -&gt; node.get(&quot;k2&quot;).shouldBe(greaterThan(0))); });</p>
</article>

<article>
<header><h1>Find</h1></header>
<p>Use find to find a DataNode based on a provided predicate Groovy http.get(&quot;/end-point&quot;) { def found = complexList.find { it.id.get() == &quot;id1&quot; } found.k1.should == &quot;v1&quot; found.k2.should == 30 } http.doc.capture(&quot;find-on-list-and-assert&quot;) // doc-exclude def found = http.get(&quot;/end-point&quot;) { return complexList.find { it.id == &quot;id1&quot; } } Java http.get(&quot;/end-point&quot;, ((header, body) -&gt; { DataNode found = body.get(&quot;complexList&quot;).find(node -&gt; node.get(&quot;id&quot;).get().equals(&quot;id1&quot;)); found.get(&quot;k1&quot;).should(equal(&quot;v1&quot;)); found.get(&quot;k2&quot;).should(equal(30)); })); Map&lt;String, ?&gt; found = http.get(&quot;/end-point&quot;, ((header, body) -&gt; { return body.get(&quot;complexList&quot;).find(node -&gt; node.get(&quot;id&quot;).get().equals(&quot;id1&quot;)); })); Note: WebTau will not track assertion on returned values and it will not show in reports and will not participate in data coverage. Use returned values for further test logic.</p>
</article>

<article>
<header><h1>Find All</h1></header>
<p>Use findAll to find a list of DataNode s based on a provided predicate Groovy http.get(&quot;/end-point&quot;) { def found = complexList.findAll { it.k2 &gt; 20 } found.k1.should containAll(&quot;v1&quot;, &quot;v11&quot;) } Java http.get(&quot;/end-point&quot;, ((header, body) -&gt; { DataNode found = body.get(&quot;complexList&quot;).findAll(node -&gt; { int k2 = node.get(&quot;k2&quot;).get(); return k2 &gt; 20; }); found.get(&quot;k1&quot;).should(containAll(&quot;v1&quot;, &quot;v11&quot;)); })); Note: The result of findAll is of type DataNode and you can leverage #properties-on-lists Properties On Lists</p>
</article>

<article>
<header><h1>Collect</h1></header>
<p>Use collect to transform a collection of items def transformed = http.get(&quot;/end-point&quot;) { return list.collect { &quot;world#${it}&quot; } } assert transformed == [&quot;world#1&quot;, &quot;world#2&quot;, &quot;world#3&quot;] assert transformed[0] instanceof GString</p>
</article>

<article>
<header><h1>Combine</h1></header>
<p>Methods find and collect can be chained def sum = http.get(&quot;/end-point&quot;) { return complexList .findAll { k1.get().startsWith(&quot;v1&quot;) } .collect { k2.get() } .sum() } assert sum == 70</p>
</article>
</section>
</div>
<script type="text/javascript" src="/webtau/footer.js"></script>
<script type="text/javascript" src="/webtau/toc.js"></script>
<script type="text/javascript" src="/webtau/documentation-references.js"></script>
<script type="text/javascript" src="/webtau/assets.js"></script>
<script type="text/javascript" src="/webtau/static/main.js"></script>
<script type="text/javascript" src="/webtau/search-index.js"></script>
<script>
document.getElementById('znai').innerHTML = '';
/*<!--*/
ReactDOM.render(React.createElement(Documentation, {
  "docMeta" : {
    "viewOn" : {
      "link" : "https://github.com/testingisdocumenting/webtau/tree/master/webtau-docs/znai",
      "title" : "View Markdown"
    },
    "id" : "webtau",
    "title" : "WebTau",
    "type" : "Guide",
    "previewEnabled" : false,
    "support" : {
      "link" : "https://github.com/testingisdocumenting/webtau/discussions",
      "title" : "GitHub"
    }
  },
  "page" : {
    "type" : "Page",
    "content" : [ {
      "id" : "special-values",
      "title" : "Special Values",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Values that you access inside the ",
          "type" : "SimpleText"
        }, {
          "code" : "http",
          "type" : "InlinedCode"
        }, {
          "text" : " call validation block are special values of ",
          "type" : "SimpleText"
        }, {
          "code" : "DataNode",
          "type" : "InlinedCode"
        }, {
          "text" : " type.",
          "type" : "SimpleText"
        }, {
          "type" : "SoftLineBreak"
        }, {
          "code" : "DataNode",
          "type" : "InlinedCode"
        }, {
          "text" : " has methods to assert and traverse the response.",
          "type" : "SimpleText"
        } ]
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "All assertions made on ",
          "type" : "SimpleText"
        }, {
          "code" : "DataNode",
          "type" : "InlinedCode"
        }, {
          "text" : " are tracked and are available as part of the generated report.",
          "type" : "SimpleText"
        } ]
      }, {
        "tabsContent" : [ {
          "name" : "Groovy",
          "content" : [ {
            "lang" : "groovy",
            "snippet" : "http.get(\"/end-point\") {\n    price.should == 100\n    assert price instanceof DataNode\n}",
            "entry" : "use groovy closure as validation",
            "bodyOnly" : true,
            "excludeRegexp" : "doc-exclude",
            "type" : "Snippet"
          }, {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "Check ",
              "type" : "SimpleText"
            }, {
              "url" : "/webtau/HTTP/import-and-dependencies",
              "isFile" : false,
              "type" : "Link",
              "content" : [ {
                "text" : "Import And Dependencies",
                "type" : "SimpleText"
              } ]
            }, {
              "text" : " for prerequisites.",
              "type" : "SimpleText"
            } ]
          } ]
        }, {
          "name" : "Java",
          "content" : [ {
            "lang" : "java",
            "snippet" : "http.get(\"/end-point\", ((header, body) -> {\n    DataNode price = body.get(\"price\");\n    price.should(equal(100));\n}));",
            "entry" : "useClosureAsValidation",
            "bodyOnly" : true,
            "type" : "Snippet"
          }, {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "Check ",
              "type" : "SimpleText"
            }, {
              "url" : "/webtau/HTTP/import-and-dependencies",
              "isFile" : false,
              "type" : "Link",
              "content" : [ {
                "text" : "Import And Dependencies",
                "type" : "SimpleText"
              } ]
            }, {
              "text" : " for prerequisites.",
              "type" : "SimpleText"
            } ]
          } ]
        } ],
        "type" : "Tabs"
      }, {
        "title" : "GET /end-point response",
        "pathsFile" : "doc-artifacts/data-node-price-access/paths.json",
        "data" : {
          "id" : 10,
          "price" : 100,
          "amount" : 30,
          "list" : [ 1, 2, 3 ],
          "object" : {
            "k1" : "v1",
            "k2" : "v2",
            "k3" : "v3"
          },
          "complexList" : [ {
            "id" : "id1",
            "k1" : "v1",
            "k2" : 30
          }, {
            "id" : "id2",
            "k1" : "v11",
            "k2" : 40
          } ]
        },
        "paths" : [ "root.price" ],
        "anchorId" : "special-values-get-end-point-response",
        "type" : "Json"
      } ]
    }, {
      "id" : "extracting-values",
      "title" : "Extracting Values",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "As you have seen in ",
          "type" : "SimpleText"
        }, {
          "url" : "/webtau/HTTP/CRUD-example",
          "isFile" : false,
          "type" : "Link",
          "content" : [ {
            "text" : "CRUD example",
            "type" : "SimpleText"
          } ]
        }, {
          "text" : " you can return values back from a validation block.",
          "type" : "SimpleText"
        } ]
      }, {
        "tabsContent" : [ {
          "name" : "Groovy",
          "content" : [ {
            "lang" : "groovy",
            "snippet" : "def id = http.get(\"/end-point\") {\n    return id\n}\n\nid.should == 10\nid.getClass().should == Integer",
            "entry" : "can return simple value from get",
            "bodyOnly" : true,
            "type" : "Snippet"
          }, {
            "lang" : "groovy",
            "snippet" : "List<Map<String, ?>> complexList = http.get(\"/end-point\") {\n    return complexList\n}\n\ncomplexList[0].k2.should == 30",
            "entry" : "can return complex value from get",
            "bodyOnly" : true,
            "type" : "Snippet"
          } ]
        }, {
          "name" : "Java",
          "content" : [ {
            "lang" : "java",
            "snippet" : "Integer id = http.get(\"/end-point\", ((header, body) -> {\n    return body.get(\"id\");\n}));\n\nactual(id).should(equal(10));",
            "entry" : "canReturnSimpleValueFromGet",
            "bodyOnly" : true,
            "type" : "Snippet"
          }, {
            "lang" : "java",
            "snippet" : "List<Map<String, ?>> complexList = http.get(\"/end-point\", ((header, body) -> {\n    return body.get(\"complexList\");\n}));\n\nNumber k2 = (Number) complexList.get(0).get(\"k2\");\nactual(k2).should(equal(30));",
            "entry" : "canReturnComplexValueFromGet",
            "bodyOnly" : true,
            "type" : "Snippet"
          } ]
        } ],
        "type" : "Tabs"
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "WebTau automatically converts leaf value to its correspondent primitive.",
          "type" : "SimpleText"
        }, {
          "type" : "SoftLineBreak"
        }, {
          "text" : "It converts List and object to  ",
          "type" : "SimpleText"
        }, {
          "code" : "java.util.List",
          "type" : "InlinedCode"
        }, {
          "text" : " and ",
          "type" : "SimpleText"
        }, {
          "code" : "java.util.Map",
          "type" : "InlinedCode"
        }, {
          "text" : ".",
          "type" : "SimpleText"
        } ]
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Note: WebTau will not be able to associate assertions on returned values with a specific call.",
          "type" : "SimpleText"
        }, {
          "type" : "SoftLineBreak"
        }, {
          "text" : "Avoid using returned values for validation. Make assertions on ",
          "type" : "SimpleText"
        }, {
          "code" : "DataNode",
          "type" : "InlinedCode"
        }, {
          "text" : " instance to generate useful report information such as data coverage.",
          "type" : "SimpleText"
        } ]
      } ]
    }, {
      "id" : "properties-on-lists",
      "title" : "Properties On Lists",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "If you have a list of objects like ",
          "type" : "SimpleText"
        }, {
          "code" : "complexList",
          "type" : "InlinedCode"
        }, {
          "text" : " below, you can access all its children property value with ",
          "type" : "SimpleText"
        }, {
          "code" : "complexList.k2",
          "type" : "InlinedCode"
        }, {
          "text" : ".",
          "type" : "SimpleText"
        } ]
      }, {
        "tabsContent" : [ {
          "name" : "Groovy",
          "content" : [ {
            "lang" : "groovy",
            "snippet" : "http.get(\"/end-point\") {\n    complexList.k2.should == [30, 40]\n}",
            "entry" : "children key shortcut",
            "bodyOnly" : true,
            "excludeRegexp" : "doc-exclude",
            "type" : "Snippet"
          } ]
        }, {
          "name" : "Java",
          "content" : [ {
            "lang" : "java",
            "snippet" : "http.get(\"/end-point\", ((header, body) -> {\n    body.get(\"complexList\").get(\"k2\").should(equal(list(30, 40)));\n}));",
            "entry" : "childrenKeyShortcut",
            "bodyOnly" : true,
            "type" : "Snippet"
          } ]
        } ],
        "type" : "Tabs"
      }, {
        "title" : "response",
        "pathsFile" : "doc-artifacts/properties-on-list/paths.json",
        "data" : {
          "id" : 10,
          "price" : 100,
          "amount" : 30,
          "list" : [ 1, 2, 3 ],
          "object" : {
            "k1" : "v1",
            "k2" : "v2",
            "k3" : "v3"
          },
          "complexList" : [ {
            "id" : "id1",
            "k1" : "v1",
            "k2" : 30
          }, {
            "id" : "id2",
            "k1" : "v11",
            "k2" : 40
          } ]
        },
        "paths" : [ "root.complexList[0].k2", "root.complexList[1].k2" ],
        "anchorId" : "properties-on-lists-response",
        "type" : "Json"
      } ]
    }, {
      "id" : "path-based-properties-access",
      "title" : "Path based properties access",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Primarily for Java users, WebTau supports the ability to query properties of a ",
          "type" : "SimpleText"
        }, {
          "code" : "DataNode",
          "type" : "InlinedCode"
        }, {
          "text" : " via a path instead of chaining",
          "type" : "SimpleText"
        }, {
          "type" : "SoftLineBreak"
        }, {
          "code" : "get(String name)",
          "type" : "InlinedCode"
        }, {
          "text" : " calls.  For example, to obtain a simple property:",
          "type" : "SimpleText"
        } ]
      }, {
        "lang" : "java",
        "snippet" : "http.get(\"/end-point\", (header, body) -> {\n    body.get(\"object.k1\").should(equal(\"v1\"));\n});",
        "entry" : "canQueryNodeByPath",
        "bodyOnly" : true,
        "type" : "Snippet"
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "It is also possible to query arrays, including the ability to query for the Nth element from the end:",
          "type" : "SimpleText"
        } ]
      }, {
        "lang" : "java",
        "snippet" : "http.get(\"/end-point\", (header, body) -> {\n    body.get(\"complexList[0].k1\").should(equal(\"v1\"));\n    body.get(\"complexList[-1].k1\").should(equal(\"v11\"));\n});",
        "entry" : "canQuerySpecificListElementByPath",
        "bodyOnly" : true,
        "type" : "Snippet"
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Similarly to the Groovy example in ",
          "type" : "SimpleText"
        }, {
          "url" : "/webtau/HTTP/data-node#properties-on-lists",
          "isFile" : false,
          "type" : "Link",
          "content" : [ {
            "text" : "Properties On Lists",
            "type" : "SimpleText"
          } ]
        }, {
          "text" : ", it is possible to access",
          "type" : "SimpleText"
        }, {
          "type" : "SoftLineBreak"
        }, {
          "text" : "all children property values:",
          "type" : "SimpleText"
        } ]
      }, {
        "lang" : "java",
        "snippet" : "http.get(\"/end-point\", (header, body) -> {\n    body.get(\"complexList.k1\").should(equal(list(\"v1\", \"v11\")));\n});",
        "entry" : "canQueryListByNodePath",
        "bodyOnly" : true,
        "type" : "Snippet"
      } ]
    }, {
      "id" : "if-else-logic",
      "title" : "If-Else Logic",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Even though values that you access inside validation block are special values of ",
          "type" : "SimpleText"
        }, {
          "code" : "DataNode",
          "type" : "InlinedCode"
        }, {
          "text" : " type, you can still",
          "type" : "SimpleText"
        }, {
          "type" : "SoftLineBreak"
        }, {
          "text" : "perform simple ",
          "type" : "SimpleText"
        }, {
          "code" : "if-else",
          "type" : "InlinedCode"
        }, {
          "text" : " like logic checks on them.",
          "type" : "SimpleText"
        } ]
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "In case of Groovy, accessing a value during if-else will mark the value as ",
          "type" : "SimpleText"
        }, {
          "type" : "Emphasis",
          "content" : [ {
            "text" : "accessed",
            "type" : "SimpleText"
          } ]
        }, {
          "text" : " for reporting.",
          "type" : "SimpleText"
        } ]
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "In case of Java, use ",
          "type" : "SimpleText"
        }, {
          "code" : ".get()",
          "type" : "InlinedCode"
        }, {
          "text" : " to access underlying value. No marking of the value will during comparison.",
          "type" : "SimpleText"
        } ]
      }, {
        "title" : "response",
        "data" : {
          "addressType" : "complex",
          "address" : {
            "zipCode" : "12345"
          }
        },
        "paths" : [ ],
        "anchorId" : "if-else-logic-response",
        "type" : "Json"
      }, {
        "tabsContent" : [ {
          "name" : "Groovy",
          "content" : [ {
            "lang" : "groovy",
            "snippet" : "def zipCode = http.get(\"/address\") {\n    return addressType == \"complex\" ? address.zipCode : \"NA\"\n}",
            "entry" : "if-else logic",
            "bodyOnly" : true,
            "excludeRegexp" : "doc-exclude",
            "type" : "Snippet"
          }, {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "Warning: Comparison of complex values is not properly implemented due to current Groovy API implementation details",
              "type" : "SimpleText"
            } ]
          } ]
        }, {
          "name" : "Java",
          "content" : [ {
            "lang" : "java",
            "snippet" : "String zipCode = http.get(\"/address\", ((header, body) -> {\n    return body.get(\"addressType\").get().equals(\"complex\") ? body.get(\"address.zipCode\") : \"NA\";\n}));",
            "entry" : "ifElseLogic",
            "bodyOnly" : true,
            "excludeRegexp" : "doc-exclude",
            "type" : "Snippet"
          } ]
        } ],
        "type" : "Tabs"
      } ]
    }, {
      "id" : "iteration",
      "title" : "Iteration",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "code" : "DataNode",
          "type" : "InlinedCode"
        }, {
          "text" : " have convenient methods to iterate over values and make assertions.",
          "type" : "SimpleText"
        } ]
      }, {
        "title" : "response",
        "highlight" : "amount",
        "data" : {
          "id" : 10,
          "price" : 100,
          "amount" : 30,
          "list" : [ 1, 2, 3 ],
          "object" : {
            "k1" : "v1",
            "k2" : "v2",
            "k3" : "v3"
          },
          "complexList" : [ {
            "id" : "id1",
            "k1" : "v1",
            "k2" : 30
          }, {
            "id" : "id2",
            "k1" : "v11",
            "k2" : 40
          } ]
        },
        "paths" : [ ],
        "anchorId" : "iteration-response",
        "type" : "Json"
      }, {
        "tabsContent" : [ {
          "name" : "Groovy",
          "content" : [ {
            "lang" : "groovy",
            "snippet" : "http.get(\"/end-point\") {\n    list.each { it.shouldBe > 0 }\n}",
            "entry" : "each on simple list",
            "bodyOnly" : true,
            "title" : "List of simple values",
            "type" : "Snippet"
          }, {
            "lang" : "groovy",
            "snippet" : "http.get(\"/end-point\") {\n    complexList.each { k2.shouldBe > 0 }\n}",
            "entry" : "each on complex list",
            "bodyOnly" : true,
            "title" : "List of complex values",
            "type" : "Snippet"
          } ]
        }, {
          "name" : "Java",
          "content" : [ {
            "lang" : "java",
            "snippet" : "http.get(\"/end-point\", (header, body) -> {\n    body.get(\"list\").forEach(node -> node.shouldBe(greaterThan(0)));\n});",
            "entry" : "eachOnSimpleList",
            "bodyOnly" : true,
            "title" : "List of simple values",
            "anchorId" : "iteration-list-of-simple-values",
            "type" : "Snippet"
          }, {
            "lang" : "java",
            "snippet" : "http.get(\"/end-point\", (header, body) -> {\n    body.get(\"complexList\").forEach(node -> node.get(\"k2\").shouldBe(greaterThan(0)));\n});",
            "entry" : "eachOnComplexList",
            "bodyOnly" : true,
            "title" : "List of complex values",
            "anchorId" : "iteration-list-of-complex-values",
            "type" : "Snippet"
          } ]
        } ],
        "type" : "Tabs"
      } ]
    }, {
      "id" : "find",
      "title" : "Find",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Use ",
          "type" : "SimpleText"
        }, {
          "code" : "find",
          "type" : "InlinedCode"
        }, {
          "text" : " to find a ",
          "type" : "SimpleText"
        }, {
          "code" : "DataNode",
          "type" : "InlinedCode"
        }, {
          "text" : " based on a provided predicate",
          "type" : "SimpleText"
        } ]
      }, {
        "title" : "response",
        "pathsFile" : "doc-artifacts/find-on-list-and-assert/paths.json",
        "data" : {
          "id" : 10,
          "price" : 100,
          "amount" : 30,
          "list" : [ 1, 2, 3 ],
          "object" : {
            "k1" : "v1",
            "k2" : "v2",
            "k3" : "v3"
          },
          "complexList" : [ {
            "id" : "id1",
            "k1" : "v1",
            "k2" : 30
          }, {
            "id" : "id2",
            "k1" : "v11",
            "k2" : 40
          } ]
        },
        "paths" : [ "root.complexList[0].k1", "root.complexList[0].k2" ],
        "anchorId" : "find-response",
        "type" : "Json"
      }, {
        "tabsContent" : [ {
          "name" : "Groovy",
          "content" : [ {
            "lang" : "groovy",
            "snippet" : "http.get(\"/end-point\") {\n    def found = complexList.find { it.id.get() == \"id1\" }\n    found.k1.should == \"v1\"\n    found.k2.should == 30\n}\n\nhttp.doc.capture(\"find-on-list-and-assert\") // doc-exclude",
            "title" : "find and assert on value",
            "entry" : "find on list and assert",
            "bodyOnly" : true,
            "type" : "Snippet"
          }, {
            "lang" : "groovy",
            "snippet" : "def found = http.get(\"/end-point\") {\n    return complexList.find { it.id == \"id1\" }\n}",
            "title" : "find and return a complex value",
            "entry" : "find on list and return",
            "excludeRegexp" : "doc-exclude",
            "bodyOnly" : true,
            "type" : "Snippet"
          } ]
        }, {
          "name" : "Java",
          "content" : [ {
            "lang" : "java",
            "snippet" : "http.get(\"/end-point\", ((header, body) -> {\n    DataNode found = body.get(\"complexList\").find(node -> node.get(\"id\").get().equals(\"id1\"));\n    found.get(\"k1\").should(equal(\"v1\"));\n    found.get(\"k2\").should(equal(30));\n}));",
            "title" : "find and assert on value",
            "entry" : "findOnListAndAssert",
            "bodyOnly" : true,
            "anchorId" : "find-find-and-assert-on-value",
            "type" : "Snippet"
          }, {
            "lang" : "java",
            "snippet" : "Map<String, ?> found = http.get(\"/end-point\", ((header, body) -> {\n    return body.get(\"complexList\").find(node -> node.get(\"id\").get().equals(\"id1\"));\n}));",
            "title" : "find and return a complex value",
            "entry" : "findOnListAndReturn",
            "excludeRegexp" : "doc-exclude",
            "bodyOnly" : true,
            "anchorId" : "find-find-and-return-a-complex-value",
            "type" : "Snippet"
          } ]
        } ],
        "type" : "Tabs"
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Note: WebTau will not track assertion on returned values and it will not show in reports and",
          "type" : "SimpleText"
        }, {
          "type" : "SoftLineBreak"
        }, {
          "text" : "will not participate in data coverage. Use returned values for further test logic.",
          "type" : "SimpleText"
        } ]
      } ]
    }, {
      "id" : "find-all",
      "title" : "Find All",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Use ",
          "type" : "SimpleText"
        }, {
          "code" : "findAll",
          "type" : "InlinedCode"
        }, {
          "text" : " to find a list of ",
          "type" : "SimpleText"
        }, {
          "code" : "DataNode",
          "type" : "InlinedCode"
        }, {
          "text" : "s based on a provided predicate",
          "type" : "SimpleText"
        } ]
      }, {
        "tabsContent" : [ {
          "name" : "Groovy",
          "content" : [ {
            "lang" : "groovy",
            "snippet" : "http.get(\"/end-point\") {\n    def found = complexList.findAll { it.k2 > 20 }\n    found.k1.should containAll(\"v1\", \"v11\")\n}",
            "entry" : "findAll on complex list",
            "bodyOnly" : true,
            "type" : "Snippet"
          } ]
        }, {
          "name" : "Java",
          "content" : [ {
            "lang" : "java",
            "snippet" : "http.get(\"/end-point\", ((header, body) -> {\n    DataNode found = body.get(\"complexList\").findAll(node -> {\n        int k2 = node.get(\"k2\").get();\n        return k2 > 20;\n    });\n\n    found.get(\"k1\").should(containAll(\"v1\", \"v11\"));\n}));",
            "title" : "find and assert on value",
            "entry" : "findAllOnComplexList",
            "bodyOnly" : true,
            "anchorId" : "find-all-find-and-assert-on-value",
            "type" : "Snippet"
          } ]
        } ],
        "type" : "Tabs"
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Note: The result of ",
          "type" : "SimpleText"
        }, {
          "code" : "findAll",
          "type" : "InlinedCode"
        }, {
          "text" : " is of type ",
          "type" : "SimpleText"
        }, {
          "code" : "DataNode",
          "type" : "InlinedCode"
        }, {
          "text" : " and you can leverage ",
          "type" : "SimpleText"
        }, {
          "url" : "/webtau/HTTP/data-node#properties-on-lists",
          "isFile" : false,
          "type" : "Link",
          "content" : [ {
            "text" : "Properties On Lists",
            "type" : "SimpleText"
          } ]
        } ]
      } ]
    }, {
      "id" : "collect",
      "title" : "Collect",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Use ",
          "type" : "SimpleText"
        }, {
          "code" : "collect",
          "type" : "InlinedCode"
        }, {
          "text" : " to transform a collection of items",
          "type" : "SimpleText"
        } ]
      }, {
        "lang" : "groovy",
        "snippet" : "def transformed = http.get(\"/end-point\") {\n    return list.collect { \"world#${it}\" }\n}\n\nassert transformed == [\"world#1\", \"world#2\", \"world#3\"]\nassert transformed[0] instanceof GString",
        "entry" : "transform list",
        "bodyOnly" : true,
        "type" : "Snippet"
      } ]
    }, {
      "id" : "combine",
      "title" : "Combine",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Methods ",
          "type" : "SimpleText"
        }, {
          "code" : "find",
          "type" : "InlinedCode"
        }, {
          "text" : " and ",
          "type" : "SimpleText"
        }, {
          "code" : "collect",
          "type" : "InlinedCode"
        }, {
          "text" : " can be chained",
          "type" : "SimpleText"
        } ]
      }, {
        "lang" : "groovy",
        "snippet" : "def sum = http.get(\"/end-point\") {\n    return complexList\n            .findAll { k1.get().startsWith(\"v1\") }\n            .collect { k2.get() }\n            .sum()\n}\n\nassert sum == 70",
        "entry" : "findAll, collect, and sum",
        "bodyOnly" : true,
        "type" : "Snippet"
      } ]
    } ],
    "lastModifiedTime" : 1692271721150,
    "tocItem" : {
      "chapterTitle" : "HTTP",
      "pageTitle" : "Data Node",
      "pageMeta" : { },
      "dirName" : "HTTP",
      "fileName" : "data-node",
      "viewOnRelativePath" : null,
      "pageSectionIdTitles" : [ {
        "title" : "Special Values",
        "id" : "special-values"
      }, {
        "title" : "Extracting Values",
        "id" : "extracting-values"
      }, {
        "title" : "Properties On Lists",
        "id" : "properties-on-lists"
      }, {
        "title" : "Path based properties access",
        "id" : "path-based-properties-access"
      }, {
        "title" : "If-Else Logic",
        "id" : "if-else-logic"
      }, {
        "title" : "Iteration",
        "id" : "iteration"
      }, {
        "title" : "Find",
        "id" : "find"
      }, {
        "title" : "Find All",
        "id" : "find-all"
      }, {
        "title" : "Collect",
        "id" : "collect"
      }, {
        "title" : "Combine",
        "id" : "combine"
      } ]
    }
  }
}), document.getElementById("znai"));
/*-->*/

</script>

</body>
</html>
