<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" /> 
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"> 
<title>WebTau: Documentation Artifacts</title>
<link rel="stylesheet" type="text/css" href="/webtau/static/css/katex.min.css">
<link rel="stylesheet" type="text/css" href="/webtau/static/main.css">
<link rel="stylesheet" type="text/css" href="/webtau/logo.css">
<link rel="stylesheet" type="text/css" href="/webtau/static/css/global-overrides.css">
</head>
<link rel="shortcut icon" href="/webtau/favicon.png"type="image/ico"/>
<body class="theme-znai-dark">
<script>(function() {
    var themeNameKey = 'znaiTheme';
    var darkThemeName = 'znai-dark';
    var lightThemeName = 'default';

    var znaiTheme = {
        changeHandlers: [],
        addChangeHandler(handler) {
            this.changeHandlers.push(handler);
        },
        removeChangeHandler(handler) {
            var idx = this.changeHandlers.indexOf(handler);
            this.changeHandlers.splice(idx, 1);
        },
        set(name) {
            this.name = name;
            document.body.className = 'theme-' + name;

            var idx = 0;
            var len = this.changeHandlers.length;
            for (; idx < len; idx++) {
                this.changeHandlers[idx](name);
            }
        },
        setExplicitly(name) {
            storeThemeName(name);
            this.set(name);
        },
        setExplicitlyIfNotSetAlready(name) {
            const themeName = getStoredThemeName();
            if (themeName) {
                return
            }

            this.setExplicitly(name)
        },
        toggle() {
            this.setExplicitly(this.name === lightThemeName ? darkThemeName : lightThemeName)
        }
    };

    var mediaThemeName = setLightMatchMediaListenerAndGetThemeName()
    var themeName = getStoredThemeName() || mediaThemeName;
    znaiTheme.set(themeName);

    window.znaiTheme = znaiTheme;

    function getStoredThemeName() {
        return localStorage.getItem(themeNameKey);
    }

    function storeThemeName(name) {
        return localStorage.setItem(themeNameKey, name);
    }

    function setLightMatchMediaListenerAndGetThemeName() {
        if (!window.matchMedia) {
            return darkThemeName;
        }

        var lightQuery = window.matchMedia('(prefers-color-scheme: light)');
        lightQuery.addListener(function (e) {
            const newThemeName = e.matches ? lightThemeName : darkThemeName;
            znaiTheme.setExplicitly(newThemeName);
        });

        return lightQuery.matches ? lightThemeName : darkThemeName;
    }
})()</script>
<div id="znai"><div id="znai-initial-page-loading" style="margin: -20px 0 0 -20px; padding: 0 40px 40px 0; width: 100vw; height: 100vh; display: flex; justify-content: center; align-items: center">
    <div></div>
</div><section style="max-width: 640px; margin-left: auto; margin-right: auto;">
<article>
<header><h1>Living Document</h1></header>
<p>In your test you can capture input and output and save it to a file. By using documentation systems you can use the captured artifacts to render business friendly documentation.As system evolves, so do your tests and so does your documentation. Essentially you will have a living document describing aspects of your system.</p>
</article>

<article>
<header><h1>Capture Input</h1></header>
<p>Use doc.capture to save a test captured value to a file. Example below assumes core static import. import static org.testingisdocumenting.webtau.WebTauCore.*; TableData allEmployees = table( &quot;id&quot;, &quot;level&quot;, &quot;monthsAtCompany&quot;, ____________________________________, &quot;alice&quot;, 5, 1, &quot;bob&quot;, 3, 0, &quot;smith&quot;, 4, 1, &quot;cat&quot;, 4, 0); addEmployees(allEmployees); doc.capture(&quot;all-employees&quot;, allEmployees); // capture all employees for documentation purposes</p>
</article>

<article>
<header><h1>Capture Expected Output</h1></header>
<p>Use doc.expected.capture to save most recent expected value. actual(dao.thisWeekJoiners()).should(equal(table( &quot;*id&quot;, &quot;level&quot;, &quot;monthsAtCompany&quot;, ____________________________________, &quot;bob&quot;, 3, 0, &quot;cat&quot;, 4, 0))); doc.expected.capture(&quot;new-joiners&quot;); // capture expected new joiners for documentation purposes WebTau documentation is created using https://github.org/testingisdocumenting/znai Znai. It has include-table plugin to render a table giving a json or CSV file. text :include-table: doc-artifacts/all-employees.json :include-table: doc-artifacts/new-joiners.json Below is the example of the business logic rendered as documentation.Our HR system consider all employees that has been in the company less than a month as new joiners. For example, giving employees: id level monthsAtCompany alice 5 1 bob 3 0 smith 4 1 cat 4 0 System will list following employees as new joiners: id level monthsAtCompany bob 3 0 cat 4 0</p>
</article>

<article>
<header><h1>Capture Console Output</h1></header>
<p>Use doc.console.capture to capture console output of a provided code block doc.console.capture(&quot;http-get-console-output&quot;, () -&gt; { http.get(&quot;/end-point&quot;, ((header, body) -&gt; { DataNode price = body.get(&quot;price&quot;); price.should(equal(100)); })); }); https://github.org/testingisdocumenting/znai Znai has cli-output plugin to render ANSI output :include-cli-output: doc-artifacts/http-get-console-output.txt</p>
</article>
</section>
</div>
<script type="text/javascript" src="/webtau/footer.js"></script>
<script type="text/javascript" src="/webtau/toc.js"></script>
<script type="text/javascript" src="/webtau/documentation-references.js"></script>
<script type="text/javascript" src="/webtau/assets.js"></script>
<script type="text/javascript" src="/webtau/static/main.js"></script>
<script type="text/javascript" src="/webtau/search-index.js"></script>
<script>
document.getElementById('znai').innerHTML = '';
/*<!--*/
ReactDOM.render(React.createElement(Documentation, {
  "docMeta" : {
    "viewOn" : {
      "link" : "https://github.com/testingisdocumenting/webtau/tree/master/webtau-docs/znai",
      "title" : "View Markdown"
    },
    "id" : "webtau",
    "title" : "WebTau",
    "type" : "Guide",
    "previewEnabled" : false,
    "support" : {
      "link" : "https://github.com/testingisdocumenting/webtau/discussions",
      "title" : "GitHub"
    }
  },
  "page" : {
    "type" : "Page",
    "content" : [ {
      "id" : "living-document",
      "title" : "Living Document",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "In your test you can capture input and output and save it to a file.",
          "type" : "SimpleText"
        }, {
          "type" : "SoftLineBreak"
        }, {
          "text" : "By using documentation systems you can use the captured artifacts to render business friendly documentation.",
          "type" : "SimpleText"
        } ]
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "As system evolves, so do your tests and so does your documentation. Essentially you will have a living document describing aspects of your system.",
          "type" : "SimpleText"
        } ]
      } ]
    }, {
      "id" : "capture-input",
      "title" : "Capture Input",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Use ",
          "type" : "SimpleText"
        }, {
          "code" : "doc.capture",
          "type" : "InlinedCode"
        }, {
          "text" : " to save a test captured value to a file.",
          "type" : "SimpleText"
        }, {
          "type" : "SoftLineBreak"
        }, {
          "text" : "Example below assumes ",
          "type" : "SimpleText"
        }, {
          "code" : "core",
          "type" : "InlinedCode"
        }, {
          "text" : " static import.",
          "type" : "SimpleText"
        } ]
      }, {
        "lang" : "java",
        "snippet" : "import static org.testingisdocumenting.webtau.WebTauCore.*;",
        "includeRegexp" : "import.*Core",
        "type" : "Snippet"
      }, {
        "lang" : "java",
        "snippet" : "TableData allEmployees = table(    \"id\", \"level\", \"monthsAtCompany\",\n                               ____________________________________,\n                                \"alice\",       5,   1,\n                                  \"bob\",       3,   0,\n                                \"smith\",       4,   1,\n                                  \"cat\",       4,   0);\naddEmployees(allEmployees);\n\ndoc.capture(\"all-employees\", allEmployees); // capture all employees for documentation purposes",
        "title" : "capturing a value",
        "entry" : "initEmployees",
        "commentsType" : "inline",
        "bodyOnly" : true,
        "anchorId" : "capture-input-capturing-a-value",
        "type" : "Snippet"
      } ]
    }, {
      "id" : "capture-expected-output",
      "title" : "Capture Expected Output",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Use ",
          "type" : "SimpleText"
        }, {
          "code" : "doc.expected.capture",
          "type" : "InlinedCode"
        }, {
          "text" : " to save most recent expected value.",
          "type" : "SimpleText"
        } ]
      }, {
        "lang" : "java",
        "snippet" : "actual(dao.thisWeekJoiners()).should(equal(table(   \"*id\", \"level\", \"monthsAtCompany\",\n                                                ____________________________________,\n                                                    \"bob\",       3,   0,\n                                                    \"cat\",       4,   0)));\n\ndoc.expected.capture(\"new-joiners\"); // capture expected new joiners for documentation purposes",
        "title" : "capturing most recent expected",
        "entry" : "validateNewJoiners",
        "commentsType" : "inline",
        "bodyOnly" : true,
        "anchorId" : "capture-expected-output-capturing-most-recent-expected",
        "type" : "Snippet"
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "WebTau documentation is created using ",
          "type" : "SimpleText"
        }, {
          "url" : "https://github.org/testingisdocumenting/znai",
          "isFile" : false,
          "type" : "Link",
          "content" : [ {
            "text" : "Znai",
            "type" : "SimpleText"
          } ]
        }, {
          "text" : ".",
          "type" : "SimpleText"
        }, {
          "type" : "SoftLineBreak"
        }, {
          "text" : "It has ",
          "type" : "SimpleText"
        }, {
          "code" : "include-table",
          "type" : "InlinedCode"
        }, {
          "text" : " plugin to render a table giving a json or CSV file.",
          "type" : "SimpleText"
        } ]
      }, {
        "lang" : "text",
        "snippet" : ":include-table: doc-artifacts/all-employees.json\n:include-table: doc-artifacts/new-joiners.json\n",
        "lineNumber" : "",
        "type" : "Snippet"
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Below is the example of the business logic rendered as documentation.",
          "type" : "SimpleText"
        } ]
      }, {
        "type" : "ThematicBreak"
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Our HR system consider all employees that has been in the company less than a month as new joiners.",
          "type" : "SimpleText"
        }, {
          "type" : "SoftLineBreak"
        }, {
          "text" : "For example, giving employees:",
          "type" : "SimpleText"
        } ]
      }, {
        "table" : {
          "columns" : [ {
            "title" : "id"
          }, {
            "title" : "level"
          }, {
            "title" : "monthsAtCompany"
          } ],
          "data" : [ [ [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "alice",
              "type" : "SimpleText"
            } ]
          } ], [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "5",
              "type" : "SimpleText"
            } ]
          } ], [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "1",
              "type" : "SimpleText"
            } ]
          } ] ], [ [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "bob",
              "type" : "SimpleText"
            } ]
          } ], [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "3",
              "type" : "SimpleText"
            } ]
          } ], [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "0",
              "type" : "SimpleText"
            } ]
          } ] ], [ [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "smith",
              "type" : "SimpleText"
            } ]
          } ], [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "4",
              "type" : "SimpleText"
            } ]
          } ], [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "1",
              "type" : "SimpleText"
            } ]
          } ] ], [ [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "cat",
              "type" : "SimpleText"
            } ]
          } ], [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "4",
              "type" : "SimpleText"
            } ]
          } ], [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "0",
              "type" : "SimpleText"
            } ]
          } ] ] ]
        },
        "type" : "Table"
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "System will list following employees as new joiners:",
          "type" : "SimpleText"
        } ]
      }, {
        "table" : {
          "columns" : [ {
            "title" : "id"
          }, {
            "title" : "level"
          }, {
            "title" : "monthsAtCompany"
          } ],
          "data" : [ [ [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "bob",
              "type" : "SimpleText"
            } ]
          } ], [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "3",
              "type" : "SimpleText"
            } ]
          } ], [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "0",
              "type" : "SimpleText"
            } ]
          } ] ], [ [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "cat",
              "type" : "SimpleText"
            } ]
          } ], [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "4",
              "type" : "SimpleText"
            } ]
          } ], [ {
            "type" : "Paragraph",
            "content" : [ {
              "text" : "0",
              "type" : "SimpleText"
            } ]
          } ] ] ]
        },
        "type" : "Table"
      } ]
    }, {
      "id" : "capture-console-output",
      "title" : "Capture Console Output",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Use ",
          "type" : "SimpleText"
        }, {
          "code" : "doc.console.capture",
          "type" : "InlinedCode"
        }, {
          "text" : " to capture console output of a provided code block",
          "type" : "SimpleText"
        } ]
      }, {
        "lang" : "java",
        "snippet" : "doc.console.capture(\"http-get-console-output\", () -> {\n    http.get(\"/end-point\", ((header, body) -> {\n        DataNode price = body.get(\"price\");\n        price.should(equal(100));\n    }));\n});",
        "title" : "capture console output",
        "entry" : "captureConsoleOutputExample",
        "bodyOnly" : true,
        "anchorId" : "capture-console-output-capture-console-output",
        "type" : "Snippet"
      }, {
        "lang" : "txt",
        "snippet" : "",
        "title" : "raw content of doc-artifacts/http-get-console-output.txt",
        "anchorId" : "capture-console-output-raw-content-of-doc-artifacts-http-get-console-output-txt",
        "type" : "Snippet"
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "url" : "https://github.org/testingisdocumenting/znai",
          "isFile" : false,
          "type" : "Link",
          "content" : [ {
            "text" : "Znai",
            "type" : "SimpleText"
          } ]
        }, {
          "text" : " has ",
          "type" : "SimpleText"
        }, {
          "code" : "cli-output",
          "type" : "InlinedCode"
        }, {
          "text" : " plugin to render ANSI output",
          "type" : "SimpleText"
        } ]
      }, {
        "lang" : "",
        "snippet" : ":include-cli-output: doc-artifacts/http-get-console-output.txt\n",
        "lineNumber" : "",
        "type" : "Snippet"
      }, {
        "lines" : [ "" ],
        "type" : "CliOutput"
      } ]
    } ],
    "lastModifiedTime" : 1681825041900,
    "tocItem" : {
      "chapterTitle" : "JVM Business Logic",
      "pageTitle" : "Documentation Artifacts",
      "pageMeta" : { },
      "dirName" : "JVM-business-logic",
      "fileName" : "documentation-artifacts",
      "viewOnRelativePath" : null,
      "pageSectionIdTitles" : [ {
        "title" : "Living Document",
        "id" : "living-document"
      }, {
        "title" : "Capture Input",
        "id" : "capture-input"
      }, {
        "title" : "Capture Expected Output",
        "id" : "capture-expected-output"
      }, {
        "title" : "Capture Console Output",
        "id" : "capture-console-output"
      } ]
    }
  }
}), document.getElementById("znai"));
/*-->*/

</script>

</body>
</html>
